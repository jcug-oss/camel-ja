<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Testing the Camel Kafka Connector :: Apache Camel</title>
    <link rel="canonical" href="https://camel.apache.org/camel-kafka-connector/0.7.x/testing.html">
    <meta name="generator" content="Antora 3.0.0-alpha.9">
    <link rel="stylesheet" href="../../_/css/site-a192e92461.css">
<meta name="application-name" content="Apache Camel">
<meta property="og:title" content="Apache Camel helps you integrate over 300 different systems!">
<meta property="og:site_name" content="Apache Camel">
<meta property="og:url" content="https://camel.apache.org">
<meta property="og:description" content="Camel is an open source integration framework that empowers you to quickly and easily integrate various systems consuming or producing data.">
<meta property="og:type" content="website">
<meta property="og:image" content="https://camel.apache.org/_/img/logo-d.svg">
<link rel="manifest" href="../../site.webmanifest">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="nav-logo" href="../.."></a>
      <div id="topbar-nav" class="navbar-menu">
        <div class="navbar-end">
                <a class="navbar-item-section navbar-item navbar-topics" href="../../blog/">
                  <img alt="ブログ" src="/_/img/blog.svg">
                  ブログ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../docs/">
                  <img alt="ドキュメント" src="/_/img/documentation.svg">
                  ドキュメント
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../community/">
                  <img alt="コミュニティ" src="/_/img/community.svg">
                  コミュニティ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../download/">
                  <img alt="ダウンロード" src="/_/img/download.svg">
                  ダウンロード
                </a>
        </div>
      </div>
      <div class="navbar-fill"></div>
      <div class="break-row"></div>
      <div class="navbar-search results-hidden">
        <input id="search" class="search" placeholder="Search" autocomplete="off">
        <img src= "/_/img/cancel.svg" alt="Clear" id="search-cancel">
        <div id="search_results"></div>
      </div>
      <div class="navbar-tools">
        <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#zulip" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter" /></svg></a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<a id="top"></a>
<div class="body">
<div class="nav-container" data-component="camel-kafka-connector" data-version="0.7.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active">
  <nav class="nav-menu" data-panel="menu">
    <h3 class="title"><a href="index.html">Camel Kafka Connector</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="about.html">What is it?</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="basic-concepts.html">Basic concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="basic-configuration.html">Basic configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="aggregation.html">Aggregation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="idempotency.html">Idempotency</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="archetypes.html">Archetypes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="archetype-connector.html">Extensible connector archetype</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="archetype-dataformat-connector.html">Extensible Dataformat connector archetype</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="archetype-apicurio-connector.html">Extensible Apicurio connector archetype</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="getting-started.html">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="try-it-out-locally.html">Try it locally</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="try-it-out-on-kubernetes.html">Try it on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="try-it-out-on-openshift-with-strimzi.html">Try it on OpenShift cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="getting-started-with-packages.html">Packages documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="connectors.html">Connectors list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="camel-compatibility-matrix.html">Apache Camel compatibility matrix</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="download.html">Camel Kafka Connector Download</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contributing.html">Contributing</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Camel Kafka Connector</span>
    <span class="version">0.7.x</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">User manual</span>
      <ul class="versions">
        <li class="version">
          <a href="../../manual/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Components</span>
      <ul class="versions">
        <li class="version">
          <a href="../../components/latest/index.html">3.12.0 (Prerelease)</a>
        </li>
        <li class="version">
          <a href="../../components/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../components/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../components/2.x/index.html">2.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel K</span>
      <ul class="versions">
        <li class="version">
          <a href="../../camel-k/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../camel-k/1.4.x/index.html">1.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Camel Kafka Connector</span>
      <ul class="versions">
        <li class="version">
          <a href="../latest/index.html">latest</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.7.x</a>
        </li>
        <li class="version">
          <a href="../0.4.x/index.html">0.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Kamelet Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../camel-kamelets/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Karaf</span>
      <ul class="versions">
        <li class="version">
          <a href="../../camel-karaf/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../camel-karaf/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../camel-karaf/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Quarkus</span>
      <ul class="versions">
        <li class="version">
          <a href="../../camel-quarkus/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../camel-quarkus/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Spring Boot</span>
      <ul class="versions">
        <li class="version">
          <a href="../../camel-spring-boot/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../camel-spring-boot/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../camel-spring-boot/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<nav class="toolbar">
<button class="nav-toggle" aria-label="Toggle submenu"></button>
  <a href="../../manual/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Camel Kafka Connector</a></li>
    <li><a href="testing.html">Testing</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.7.x</button>
  <div class="version-menu">
    <a class="version is-missing" href="../latest/index.html">latest</a>
    <a class="version is-current" href="testing.html">0.7.x</a>
    <a class="version is-missing" href="../0.4.x/index.html">0.4.x</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/apache/camel-kafka-connector/edit/camel-kafka-connector-0.7.x/docs/modules/ROOT/pages/testing.adoc">Edit this Page</a></div>
  </nav>
  <div class="content">
<article class="doc">
<h1 class="page">Testing the Camel Kafka Connector</h1>
<div class="sect1">
<h2 id="Troubleshooting-Contents"><a class="anchor" href="#Troubleshooting-Contents"></a>Table of Contents</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#running-the-tests">Running The Tests</a></p>
</li>
<li>
<p><a href="#running-the-tests-remotely">Running The Tests Remotely</a></p>
</li>
<li>
<p><a href="#writing-new-tests">Writing New Tests</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-tests"><a class="anchor" href="#running-the-tests"></a>Running The Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The most basic way of running the tests is to do so as part of the build. The command line for that is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -DskipIntegrationTests=false clean verify package</code></pre>
</div>
</div>
<div class="paragraph">
<p>The test code in the project is rather flexible and allow a different range of options regarding the environment,
tools, etc that can be used. For example, to use an external (remote) Kafka broker:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -Dkafka.bootstrap.servers=host1:port -Dkafka.instance.type=remote -DskipIntegrationTests=false clean verify package</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-tests-remotely"><a class="anchor" href="#running-the-tests-remotely"></a>Running The Tests Remotely</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Not only Kafka, but also other external infrastructure can be used for the tests. To do so, you must set properties
for the services that you want to run. This causes the tests to not launch the local container and use existing
remote instances. At the moment, the following properties can be set for remote testing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>kafka.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>kafka.bootstrap.servers</p>
</li>
</ul>
</div>
</li>
<li>
<p>aws-service.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>access.key: AWS access key (mandatory for remote testing)</p>
</li>
<li>
<p>secret.key: AWS secret key (mandatory for remote testing)</p>
</li>
<li>
<p>aws.region: AWS region (optional)</p>
</li>
<li>
<p>aws.host: AWS host (optional)</p>
</li>
</ul>
</div>
</li>
<li>
<p>aws-service.kinesis.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>access.key: AWS access key (mandatory for remote testing)</p>
</li>
<li>
<p>secret.key: AWS secret key (mandatory for remote testing)</p>
</li>
<li>
<p>aws.region: AWS region (optional)</p>
</li>
<li>
<p>aws.host: AWS host (optional)</p>
</li>
</ul>
</div>
</li>
<li>
<p>azure.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>azure.storage.queue.host</p>
</li>
<li>
<p>azure.storage.queue.port</p>
</li>
<li>
<p>azure.storage.queue.account.name</p>
</li>
<li>
<p>azure.storage.queue.account.key</p>
</li>
</ul>
</div>
</li>
<li>
<p>elasticsearch.instance.type</p>
</li>
<li>
<p>elasticsearch.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>elasticsearch.host</p>
</li>
<li>
<p>elasticsearch.port</p>
</li>
</ul>
</div>
</li>
<li>
<p>cassandra.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>cassandra.host</p>
</li>
<li>
<p>cassandra.cql3.port</p>
</li>
</ul>
</div>
</li>
<li>
<p>jdbc.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>jdbc.connection.url</p>
</li>
</ul>
</div>
</li>
<li>
<p>jms-service.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>jms.broker.address</p>
</li>
</ul>
</div>
</li>
<li>
<p>hdfs.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>hdfs.host</p>
</li>
<li>
<p>hdfs.port</p>
</li>
</ul>
</div>
</li>
<li>
<p>mongodb.instance.type</p>
<div class="ulist">
<ul>
<li>
<p>mongodb.url</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible to use a properties file to set these. To do so use <code>-Dtest.properties=/path/to/file.properties</code>.</p>
</div>
<div class="sect2">
<h3 id="_manual_tests"><a class="anchor" href="#_manual_tests"></a>Manual Tests</h3>
<div class="paragraph">
<p>A few manual tests can be enabled and executed with adequate configuration on the accounts and environments
used by those services. This is very specific to the nature of each of those services, therefore please consult
the comments on each of those test cases for the details related to their setup.</p>
</div>
<div class="paragraph">
<p>The following manual or semi-automated tests are available under these circumstances. They can be enabled with
these flags along with others that are specific to that service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it.test.salesforce.enable</p>
</li>
<li>
<p>it.test.slack.enable</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_performance_tests"><a class="anchor" href="#_performance_tests"></a>Performance Tests</h3>
<div class="paragraph">
<p>There is also a reference test implementation for checking the performance and resource usage in some situations.
The current implementation, in the perf-tests-rabbitmq, can be run using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -DskipIntegrationTests=false -Dit.test.perf.enabled=true clean verify</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additional JVM settings, such as those to allow usage of the <a href="https://github.com/jvm-profiling-tools/async-profiler">Async Profiler</a>
can be passed using the <code>jvm.user.settings</code> property. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -DskipIntegrationTests=false -Dit.test.perf.enabled=true -Djvm.user.settings="-agentpath:/path/to/asyncProfiler.so=start,file=/path/to/profile.svg" clean verify</code></pre>
</div>
</div>
<div class="paragraph">
<p>The duration of the test can be adjusted with the <code>rabbitmq.test.duration</code>. This option takes the number of minutes for
the test duration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="writing-new-tests"><a class="anchor" href="#writing-new-tests"></a>Writing New Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Camel Kafka Connector aim to replicate as closely as possible the scenarios on which the connectors will be run. In
order to achieve that, the code tries to replicate the infrastructure on which the connectors run. This means that
every integration test launches a Kafka and Zookeeper instance, the connector under test as well as the infrastructure
required for the connector to run.</p>
</div>
<div class="paragraph">
<p>The lifecycle for Camel and Kafka environments is handled in the test lifecycle and already implemented. Therefore,
new tests usually have to implement support for two things: the infrastructure required for the connector to run and
the test logic.</p>
</div>
<div class="sect2">
<h3 id="_simulating_the_test_infrastructure"><a class="anchor" href="#_simulating_the_test_infrastructure"></a>Simulating the Test Infrastructure</h3>
<div class="paragraph">
<p>When implementing a new integration test, the first step is to identify how to simulate the sink or source
infrastructure that is needed to run the test. In general, the integration test leverages the features provided by the
project <a href="https://www.testcontainers.org/">TestContainers</a> and uses container images to simulate the environments.</p>
</div>
<div class="paragraph">
<p>The test code abstracts the provisioning of test environments behind service classes (i.e.: JMSService, JDBCService,
etc). The purpose of the service class is to abstract the both the type service (i.e.: Kafka, Strimzi, etc) and
the location of the service (i.e.: remote, local, etc). This provides flexibility to test the connector under different
circumstances (ie.: using a remote JMS broker or using a local JMS broker running in a container managed by
TestContainers). It makes it easier to hit edge cases as well as try different operating scenarios (ie.: higher
latency, slow backends, etc).</p>
</div>
<div class="paragraph">
<p>JUnit 5 manages the lifecycle of the services, therefore each service must be a JUnit 5 compliant extension. The exact
extension point that a service must extend is specific to each service. The JUnit 5
<a href="https://junit.org/junit5/docs/current/user-guide/">documentation</a> is the reference for the extension points.</p>
</div>
<div class="paragraph">
<p>In general, the services should aim to minimize the test execution time and resource usage when running. As such,
the <a href="https://junit.org/junit5/docs/5.1.1/api/org/junit/jupiter/api/extension/BeforeAllCallback.html">BeforeAllCallback</a>
and <a href="https://junit.org/junit5/docs/5.1.1/api/org/junit/jupiter/api/extension/AfterAllCallback.html">AfterAllCallback</a>
should be the preferred extensions whenever possible because they allow the instance of the infrastructure to be static
throughout the test execution.</p>
</div>
<div class="paragraph">
<p>Instantiation of clients for the service classes can be handled in the Service classes whenever is sensible to do so.
For example, when handling credentials or different communication protocols that are determined by the service, it
might make sense to abstract that logic from the test code.</p>
</div>
<div class="paragraph">
<p>A specialized service factory class is responsible for creating the service according to runtime parameters and/or
other test scenarios constraints. When a service allows different service types or locations to be selected, this
should be done via command line properties (<code>-D&lt;property.name&gt;=&lt;value&gt;</code>). For example, when allowing a service to choose
between running as a local container or as remote instance, a property in the format <code>&lt;name&gt;.instance.type</code> should be
handled. Additional runtime parameters used in different scenarios, should be handled as <code>&lt;name&gt;.&lt;parameter&gt;</code>.</p>
</div>
<div class="paragraph">
<p>When a container image is not available via TestContainers, tests can provide their own implementation using officially
available images. The license must be compatible with Apache 2.0. If an official image is not available, a Dockerfile
to build the service can be provided. The Dockerfile should try to minimize the container size and resource usage
whenever possible.</p>
</div>
</div>
<div class="sect2">
<h3 id="_writing_the_test_logic"><a class="anchor" href="#_writing_the_test_logic"></a>Writing the Test Logic</h3>
<div class="paragraph">
<p>There are 2 important bits required to write the test logic. The first one is a property factory that creates the
connector specific properties. It stores information such as the sink or source queue, connector classes, converters
and connector specific parameters.</p>
</div>
<div class="paragraph">
<p>The properties factories should specialize either the <a href="https://github.com/apache/camel-kafka-connector/blob/0b0b6267e9472e886f74d4a579f5535b7b95dac4/tests/itests-common/src/test/java/org/apache/camel/kafkaconnector/common/SinkConnectorPropertyFactory.java">SinkConnectorPropertyFactory</a> class or the
<a href="https://github.com/apache/camel-kafka-connector/blob/0b0b6267e9472e886f74d4a579f5535b7b95dac4/tests/itests-common/src/test/java/org/apache/camel/kafkaconnector/common/SourceConnectorPropertyFactory.java">SourceConnectorPropertyFactory</a>
class. The base classes provide the common methods applicable to all situations. The property factory should provide a
static method called <code>basic</code>. This method should create the most basic connector property factory for the connector to
run. If needed, the property factory for the <a href="https://github.com/apache/camel-kafka-connector/blob/0b0b6267e9472e886f74d4a579f5535b7b95dac4/tests/itests-mongodb/src/test/java/org/apache/camel/kafkaconnector/mongodb/sink/CamelMongoDBPropertyFactory.java#L46">CamelMongoDBPropertyFactory</a>
one can be used as a reference.</p>
</div>
<div class="paragraph">
<p>The connector property factory, should, ideally, also provide a method that allows setup sink or source URLs. Even
though this is not encouraged for regular usage of the connector, it is a good way to spot differences when the
connector is configured via properties versus when it is configured via URL. The connector config classes for each
connector (ie.: those classes whose name end with ConnectorConfig) provide the list of supported configurations.</p>
</div>
<div class="paragraph">
<p>The test class should specialize the <a href="https://github.com/apache/camel-kafka-connector/blob/0b0b6267e9472e886f74d4a579f5535b7b95dac4/tests/itests-common/src/test/java/org/apache/camel/kafkaconnector/common/AbstractKafkaTest.java">AbstractKafkaTest</a>
class. Every specialization of that class must provide a <code>getConnectorsInTest</code> method that provides an array
with the name of the connectors being test. During the test execution, the contents of this array is used to traverse
the project directory and find the connector classes. This is required because Kafka Connect handles the classpath
separately and loads the connector classes through the plugin.path setting. Check the comments on the
<a href="https://github.com/apache/camel-kafka-connector/blob/0b0b6267e9472e886f74d4a579f5535b7b95dac4/tests/itests-common/src/test/java/org/apache/camel/kafkaconnector/common/PluginPathHelper.java#L137">pluginPaths</a>
methods of the PluginPathHelper for additional details.</p>
</div>
<div class="paragraph">
<p>As a general rule, test should ensure as much isolation of the test classpath and the runtime classpath as possible.
Not only this allows us to catch possible classpath issues, but also conflicts between connector dependencies and
Kafka&#8217;s Connect own runtime libraries.</p>
</div>
<div class="paragraph">
<p>The test code should avoid printing data to the stdout. Instead, the default project logger should be used. Every
connector module has its own log file. Tests for new connectors should ensure that the relevant information is logged.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
    <div class="footer-tools">
        <a href="#top" title="Reach the top of the page">Back to top</a>
    </div>
    <footer>
        <div class="footer">
            <figure class="logo">
                <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo"
                    aria-label="white silhouette of a camel in front of a sand dune">
            </figure>
            <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section" />
            <dl>
                <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt>
                <dd><a href="../../blog/">Blog</a></dd>
                <dd><a href="../../docs/">Documentation</a></dd>
                <dd><a href="../../community/support/">Community</a></dd>
                <dd><a href="../../download/">Download</a></dd>
            </dl>
            <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section" />
            <dl>
                <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt>
                <dd><a href="../../manual/latest/">User Manual</a></dd>
                <dd><a href="../../components/latest/index.html">Components</a></dd>
                <dd><a href="../../camel-k/latest/">Camel-K</a></dd>
                <dd><a href="../../camel-kafka-connector/latest/">Camel Kafka Connector</a></dd>
                <dd><a href="../../camel-quarkus/latest/">Camel Quarkus</a></dd>
                <dd><a href="../../camel-spring-boot/latest/">Camel Spring Boot</a></dd>
                <dd><a href="../../camel-karaf/latest/">Camel Karaf</a></dd>
                <dd><a href="../../manual/latest/faq/index.html">FAQ</a></dd>
            </dl>
            <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section" />
            <dl>
                <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt>
                <dd><a href="../../community/support/">Support</a></dd>
                <dd><a href="../../community/contributing/">Contributing</a></dd>
                <dd><a href="../../community/mailing-list/">Mailing Lists</a></dd>
                <dd><a href="../../community/user-stories/">User stories</a></dd>
                <dd><a href="../../community/articles/">Articles</a></dd>
                <dd><a href="../../community/books/">Books</a></dd>
                <dd><a href="../../community/team/">Team</a></dd>
            </dl>
            <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section" />
            <dl>
                <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt>
                <dd><a href="../../acknowledgments/">Acknowledgments</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd>
            </dl>
            <p class="remark">
                &copy; 2004-2021 The <a href="https://apache.org">Apache Software Foundation</a>.<br>
                Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of
                The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of
                their respective owners.
            </p>
            <div class="resources">
                <div class="context">
                    <a href="../../privacy-policy/">Privacy Policy</a>
                </div>
                <div class="context">
                    <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a>
                </div>
                <div class="context">
                    <a href="../../sitemap/">Sitemap</a>
                </div>
            </div>
            <div class="footer-icons">
                <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#github" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#zulip" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#twitter" /></svg></a>
            </div>
        </div>
    </footer>
<script src="../../_/js/vendor/algoliasearch-8fe81df376.js"></script>
<script src="../../_/js/site-0d18f68ee9.js"></script>
<script async src="../../_/js/vendor/highlight-a988c6fdd9.js"></script>
<script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script>
        <script type='application/ld+json'>
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
}
</script>
    <script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org/"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Camel Kafka Connector",
        "item": "https://camel.apache.org/camel-kafka-connector/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "0.7.x",
        "item": "https://camel.apache.org/camel-kafka-connector/0.7.x/index.html"
        },
        {
        "@type": "ListItem",
        "position": 4,
        "name": "Testing",
        "item": "https://camel.apache.org/camel-kafka-connector/0.7.x/testing.html"
        }]
    }
</script>

  </body>
</html>
