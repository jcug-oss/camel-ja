<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Writing Integrations in YAML :: Apache Camel</title>
    <link rel="canonical" href="https://camel.apache.org/camel-k/latest/languages/yaml.html">
    <meta name="generator" content="Antora 3.0.0-alpha.9">
    <link rel="stylesheet" href="../../../_/css/site-a192e92461.css">
<meta name="application-name" content="Apache Camel">
<meta property="og:title" content="Apache Camel helps you integrate over 300 different systems!">
<meta property="og:site_name" content="Apache Camel">
<meta property="og:url" content="https://camel.apache.org">
<meta property="og:description" content="Camel is an open source integration framework that empowers you to quickly and easily integrate various systems consuming or producing data.">
<meta property="og:type" content="website">
<meta property="og:image" content="https://camel.apache.org/_/img/logo-d.svg">
<link rel="manifest" href="../../../site.webmanifest">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../../apple-touch-icon-60x60.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="../../../favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="../../../favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicon-128.png" sizes="128x128">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="nav-logo" href="../../.."></a>
      <div id="topbar-nav" class="navbar-menu">
        <div class="navbar-end">
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../blog/">
                  <img alt="ブログ" src="/_/img/blog.svg">
                  ブログ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../docs/">
                  <img alt="ドキュメント" src="/_/img/documentation.svg">
                  ドキュメント
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../community/">
                  <img alt="コミュニティ" src="/_/img/community.svg">
                  コミュニティ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../download/">
                  <img alt="ダウンロード" src="/_/img/download.svg">
                  ダウンロード
                </a>
        </div>
      </div>
      <div class="navbar-fill"></div>
      <div class="break-row"></div>
      <div class="navbar-search results-hidden">
        <input id="search" class="search" placeholder="Search" autocomplete="off">
        <img src= "/_/img/cancel.svg" alt="Clear" id="search-cancel">
        <div id="search_results"></div>
      </div>
      <div class="navbar-tools">
        <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#github" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#zulip" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#twitter" /></svg></a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<a id="top"></a>
<div class="body">
<div class="nav-container" data-component="camel-k" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active">
  <nav class="nav-menu" data-panel="menu">
    <h3 class="title"><a href="../index.html">Camel K</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../installation/installation.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/minikube.html">Minikube</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/crc.html">Red Hat CodeReady Containers (CRC)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/digitalocean.html">DigitalOcean Kubernetes Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/gke.html">Google Kubernetes Engine (GKE)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/openshift.html">OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/iks.html">IBM Kubernetes Service (IKS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/k3s.html">K3s</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/kind.html">Kind</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../installation/registry/registry.html">Configuring Registry</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/digitalocean.html">DigitalOcean</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/dockerhub.html">Docker Hub</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/github.html">Github Packages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/gcr.html">Gcr.io</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/icr.html">IBM Container Registry</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/k3s.html">K3s</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/scheduling.html">Pod scheduling</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../running/running.html">Running</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../running/dev-mode.html">Dev Mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../running/run-from-github.html">Run from GitHub</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tutorials/tutorials.html">Tutorials</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../cli/cli.html">CLI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/modeline.html">Modeline</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../configuration/configuration.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/build-time-properties.html">Build time properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/runtime-properties.html">Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/runtime-config.html">Runtime configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/runtime-resources.html">Runtime resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/maven.html">Maven</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Observability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../observability/logging.html">Logging</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/logging/operator.html">Operator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/logging/integration.html">Integration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../observability/monitoring.html">Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/monitoring/operator.html">Operator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/monitoring/integration.html">Integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Scaling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling/integration.html">Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling/binding.html">Binding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../traits/traits.html">Traits</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/3scale.html">3scale</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/affinity.html">Affinity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/builder.html">Builder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/camel.html">Camel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/container.html">Container</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/cron.html">Cron</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/deployer.html">Deployer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/deployment.html">Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/environment.html">Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/error-handler.html">Error Handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/gc.html">Gc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/ingress.html">Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/istio.html">Istio</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/jolokia.html">Jolokia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/jvm.html">Jvm</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/kamelets.html">Kamelets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/knative-service.html">Knative Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/knative.html">Knative</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/master.html">Master</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/openapi.html">Openapi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/owner.html">Owner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/pdb.html">Pdb</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/platform.html">Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/pod.html">Pod</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/prometheus.html">Prometheus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/pull-secret.html">Pull Secret</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/quarkus.html">Quarkus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/route.html">Route</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/service-binding.html">Service Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/service.html">Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/toleration.html">Toleration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/tracing.html">Tracing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="languages.html">Languages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="groovy.html">Groovy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kotlin.html">Kotlin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="javascript.html">JavaScript</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="java.html">Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jsh.html">Java (JShell)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xml.html">XML</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="yaml.html">YAML</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/operating.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/known-issues.html">Known Issues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../kamelets/kamelets.html">Kamelets</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kamelets/kamelets-user.html">Kamelets User Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kamelets/kamelets-dev.html">Kamelets Developer Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../architecture/architecture.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../architecture/operator.html">Operator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration-platform.html">IntegrationPlatform</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration.html">Integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration-kit.html">IntegrationKit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/build.html">Build</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/camel-catalog.html">CamelCatalog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/runtime.html">Runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/traits.html">Traits</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../apis/camel.html">API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../uninstalling.html">Uninstalling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../contributing/developers.html">Contributing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/local-development.html">Local development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/local-deployment-olm.html">Local OLM deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/e2e.html">Local E2E testing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Camel K</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">User manual</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../manual/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Components</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../components/latest/index.html">3.12.0 (Prerelease)</a>
        </li>
        <li class="version">
          <a href="../../../components/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../components/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../components/2.x/index.html">2.x</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Camel K</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../1.4.x/index.html">1.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Kafka Connector</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-kafka-connector/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-kafka-connector/0.7.x/index.html">0.7.x</a>
        </li>
        <li class="version">
          <a href="../../../camel-kafka-connector/0.4.x/index.html">0.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Kamelet Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-kamelets/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Karaf</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-karaf/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-karaf/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../camel-karaf/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Quarkus</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-quarkus/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-quarkus/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Spring Boot</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-spring-boot/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-spring-boot/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../camel-spring-boot/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<nav class="toolbar">
<button class="nav-toggle" aria-label="Toggle submenu"></button>
  <a href="../../../manual/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Camel K</a></li>
    <li><a href="languages.html">Languages</a></li>
    <li><a href="yaml.html">YAML</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">latest</button>
  <div class="version-menu">
    <a class="version is-current" href="yaml.html">latest</a>
    <a class="version is-missing" href="../../1.4.x/index.html">1.4.x</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/apache/camel-k-runtime/edit/main/docs/modules/languages/pages/yaml.adoc">Edit this Page</a></div>
  </nav>
  <div class="content">
<article class="doc">
<h1 class="page">Writing Integrations in YAML</h1>
<div class="sect1">
<h2 id="_defining_a_route"><a class="anchor" href="#_defining_a_route"></a>Defining a route</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A route is collection of elements defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- from: <i class="conum" data-value="1"></i><b>(1)</b>
    uri: "direct:start"
    steps: <i class="conum" data-value="2"></i><b>(2)</b>
      - filter:
          expression:
            simple: "${in.header.continue} == true"
          steps: <i class="conum" data-value="2"></i><b>(2)</b>
            - to:
                uri: "log:filtered"
      - to:
          uri: "log:original"</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>route entry point, by default <code>from</code> and <code>rest</code> are supported</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>processing steps</td>
</tr>
</table></div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Each step is represented by a YAML map that has a single entry where the field name is the EIP name</p>
</div>
</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>As general rule each step provide all the parameters the related definition declares but there are some minor differences/enhancements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Output Aware Steps</strong></p>
<div class="paragraph">
<p>Some steps such as <code>filter</code> and <code>split</code> have their own pipeline when an exchange matches the filter expression or for the items generated by the split expression, such pipeline can be defined by the <code>steps</code> field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">filter:
  expression:
    simple: "${in.header.continue} == true"
      steps:
        - to:
            uri: "log:filtered"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>if the <code>steps</code> field is omitted, then each subsequent step is considered part of the filter pipeline.</p>
</div>
</td>
</tr>
</table></div>
</div>
</li>
<li>
<p><strong>Expression Aware Steps</strong></p>
<div class="paragraph">
<p>Some EIP such as <code>filter</code> and <code>split</code> supports the definition of an expression through the <code>expression</code> field:</p>
</div>
<div class="listingblock">
<div class="title">Explicit Expression field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">filter:
    expression:
      simple: "${in.header.continue} == true"</code></pre>
</div>
</div>
<div class="paragraph">
<p>To make the DSL less verbose, the <code>expression</code> field can be omitted:</p>
</div>
<div class="listingblock">
<div class="title">Implicit Expression field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">filter:
    simple: "${in.header.continue} == true"</code></pre>
</div>
</div>
<div class="paragraph">
<p>In general expression can be defined inline like in the examples above but in case you need provide more information, you can 'unroll' the expression definition and configure any single parameter the expression defines.</p>
</div>
<div class="listingblock">
<div class="title">Full Expression definition</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">filter:
    tokenize:
      token: "&lt;"
      end-token: "&gt;"</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Data Format Aware Steps</strong></p>
<div class="paragraph">
<p>Some EIP such as <code>set-body</code> and <code>marshal</code> supports the definition of data formats through the <code>data-format</code> field:</p>
</div>
<div class="listingblock">
<div class="title">Explicit Data Format field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">set-body:
    data-format:
      json:
        library: Gson</code></pre>
</div>
</div>
<div class="paragraph">
<p>To make the DSL less verbose, the <code>data-format</code> field can be omitted:</p>
</div>
<div class="listingblock">
<div class="title">Implicit Data Format field</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">set-body:
    json:
      library: Gson</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In case you want to use the data-format&#8217;s default settings, you need to place an empty block as data format parameters, like <code>json: {}</code></p>
</div>
</td>
</tr>
</table></div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_endpoints"><a class="anchor" href="#_defining_endpoints"></a>Defining endpoints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To define an endpoint with the YAML dsl you have three options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Using a classic Camel URI:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- from:
    uri: "timer:tick?period=1s"
    steps:
      - to:
          uri: "telegram:bots?authorizationToken=XXX"</code></pre>
</div>
</div>
</li>
<li>
<p>Using URI and parameters:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- from:
    uri: "timer://tick"
    parameters:
      period: "1s"
    steps:
      - to:
          uri: "telegram:bots"
          parameters:
            authorizationToken: "XXX"</code></pre>
</div>
</div>
</li>
<li>
<p>Using the YAML implementation of the <a href="../../../manual/latest/Endpoint-dsl.html" class="page">Endpoint DSL</a>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- from:
    timer:
      name: "tick"
      period: "1s"
    steps:
      - telegram:
          type: "bots"
          authorizationToken: "XXX"</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Support for the Endpoint DSL with YAML is experimental and subject to changes.</p>
</div>
</td>
</tr>
</table></div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Support for Endpoint DSL auto completion <a href="https://github.com/apache/camel-k-runtime/issues/485">is not yet available</a>.</p>
</div>
</td>
</tr>
</table></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_beans"><a class="anchor" href="#_defining_beans"></a>Defining beans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to the general support for creating beans provided by <a href="../../../components/latest/others/main.html#_specifying_custom_beans" class="page">Camel Main</a>, the YAML DSL provide a convenient syntax to define and configure them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- beans:
  - name: beanFromMap  <i class="conum" data-value="1"></i><b>(1)</b>
    type: com.acme.MyBean <i class="conum" data-value="2"></i><b>(2)</b>
    properties: <i class="conum" data-value="3"></i><b>(3)</b>
      foo: bar</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the name of the bean which will be used to bound the instance to the Camel Registry</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the full qualified class name of the bean</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the properties of the bean to be set</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>The properties of the bean can be defined using either a map or properties style as shown in the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- beans:
  # map style
  - name: beanFromMap
    type: com.acme.MyBean
    properties:
      field1: 'f1'
      field2: 'f2'
      nested:
        field1: 'nf1'
        field2: 'nf2'
  # properties style
  - name: beanFromProps
    type: com.acme.MyBean
    properties:
      field1: 'f1_p'
      field2: 'f2_p'
      nested.field1: 'nf1_p'
      nested.field2: 'nf2_p'</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>beans</code> elements can only be used as root element</p>
</div>
</td>
</tr>
</table></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extending_the_dsl"><a class="anchor" href="#_extending_the_dsl"></a>Extending the DSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The DSL is designed to be easily extended, so you can provide your own step handler which is discovered at runtime using Camel&#8217;s factory finder.</p>
</div>
<div class="paragraph">
<p>Assuming you want to create a step to simplify the creation of a certain type of endpoints then you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a service definition entry in <code>META-INF/services/org/apache/camel/k/yaml</code> with content like:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">class=com.acme.converter.MyConverter</code></pre>
</div>
</div>
</li>
<li>
<p>create the step handler extending <code>org.apache.camel.k.loader.yaml.parser.ProcessorStepParser</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.acme.converter.AcmeConverter;

import org.apache.camel.k.loader.yaml.parser.ProcessorStepParser;

public class AcmeConverter
        implements ProcessorStepParser {
    /**
     * @param context contains references to the camel context and the current node as raw JsonNode
     */
    @Override
    public ProcessorDefinition&lt;?&gt; toProcessor(Context context) {
        // decode the raw json node
        Definition definition = context.node(Definition.class);

        // create the definition
        ToDefinition to = new ToDefinition();
        to.setUri(String.format("http://%s:%d/fixed/path", definition.host, definition.port));

        return to;
    }

    /*
     * Define the data
     */
    public static final class Definition {
        public String host;

        @JsonSetter(nulls = Nulls.SKIP)
        public Integer port = 8080;
    }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Assuming the entry in the <code>META-INF/services/org/apache/camel/k/yaml</code> is named <code>acme</code> then you can use it from the YAML DSL like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">from:
  uri: "direct:start"
  steps:
    - acme:
        host: acme.com
        port: 8081</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_eip"><a class="anchor" href="#_supported_eip"></a>Supported EIP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the list of EIPs supported in the yaml DSL language. For full details on expected configuration you can please refer to the <a href="https://github.com/apache/camel/blob/main/dsl/camel-yaml-dsl/camel-yaml-dsl/src/generated/resources/camel-yaml-dsl.json">YAML language specification</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aggregate</p>
</li>
<li>
<p>Bean</p>
</li>
<li>
<p>Choice</p>
</li>
<li>
<p>Circuit Breaker</p>
</li>
<li>
<p>Claim Check</p>
</li>
<li>
<p>Convert Body To</p>
</li>
<li>
<p>Delay</p>
</li>
<li>
<p>Dynamic Router</p>
</li>
<li>
<p>Enrich</p>
</li>
<li>
<p>Filter</p>
</li>
<li>
<p>From</p>
</li>
<li>
<p>Idempotent Consumer</p>
</li>
<li>
<p>Load Balance</p>
</li>
<li>
<p>Log</p>
</li>
<li>
<p>Loop</p>
</li>
<li>
<p>Marshal</p>
</li>
<li>
<p>Multicast</p>
</li>
<li>
<p>Pipeline</p>
</li>
<li>
<p>PollEnrich</p>
</li>
<li>
<p>Process</p>
</li>
<li>
<p>Recipient List</p>
</li>
<li>
<p>Remove Header</p>
</li>
<li>
<p>Remove Headers</p>
</li>
<li>
<p>Remove Property</p>
</li>
<li>
<p>Remove Properties</p>
</li>
<li>
<p>Resequence</p>
</li>
<li>
<p>Rest DSL</p>
</li>
<li>
<p>Rollback</p>
</li>
<li>
<p>Routing Slip</p>
</li>
<li>
<p>Saga</p>
</li>
<li>
<p>Sample</p>
</li>
<li>
<p>Script</p>
</li>
<li>
<p>ServiceCall</p>
</li>
<li>
<p>Set Body</p>
</li>
<li>
<p>Set Exchange Pattern</p>
</li>
<li>
<p>Set Header</p>
</li>
<li>
<p>Set Property</p>
</li>
<li>
<p>Sort</p>
</li>
<li>
<p>Split</p>
</li>
<li>
<p>Step</p>
</li>
<li>
<p>Stop</p>
</li>
<li>
<p>Threads</p>
</li>
<li>
<p>Throttle</p>
</li>
<li>
<p>Throw Exception</p>
</li>
<li>
<p>To</p>
</li>
<li>
<p>To Dynamic</p>
</li>
<li>
<p>Transacted</p>
</li>
<li>
<p>Transform</p>
</li>
<li>
<p>Try Catch Finally</p>
</li>
<li>
<p>Unmarshal</p>
</li>
<li>
<p>Validate</p>
</li>
<li>
<p>Wire Tap</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Try Catch Finally EIP currently only support specifying one <code>do-catch</code> clause.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
    <div class="footer-tools">
        <a href="#top" title="Reach the top of the page">Back to top</a>
    </div>
    <footer>
        <div class="footer">
            <figure class="logo">
                <img src="../../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo"
                    aria-label="white silhouette of a camel in front of a sand dune">
            </figure>
            <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section" />
            <dl>
                <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt>
                <dd><a href="../../../blog/">Blog</a></dd>
                <dd><a href="../../../docs/">Documentation</a></dd>
                <dd><a href="../../../community/support/">Community</a></dd>
                <dd><a href="../../../download/">Download</a></dd>
            </dl>
            <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section" />
            <dl>
                <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt>
                <dd><a href="../../../manual/latest/">User Manual</a></dd>
                <dd><a href="../../../components/latest/index.html">Components</a></dd>
                <dd><a href="../../../camel-k/latest/">Camel-K</a></dd>
                <dd><a href="../../../camel-kafka-connector/latest/">Camel Kafka Connector</a></dd>
                <dd><a href="../../../camel-quarkus/latest/">Camel Quarkus</a></dd>
                <dd><a href="../../../camel-spring-boot/latest/">Camel Spring Boot</a></dd>
                <dd><a href="../../../camel-karaf/latest/">Camel Karaf</a></dd>
                <dd><a href="../../../manual/latest/faq/index.html">FAQ</a></dd>
            </dl>
            <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section" />
            <dl>
                <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt>
                <dd><a href="../../../community/support/">Support</a></dd>
                <dd><a href="../../../community/contributing/">Contributing</a></dd>
                <dd><a href="../../../community/mailing-list/">Mailing Lists</a></dd>
                <dd><a href="../../../community/user-stories/">User stories</a></dd>
                <dd><a href="../../../community/articles/">Articles</a></dd>
                <dd><a href="../../../community/books/">Books</a></dd>
                <dd><a href="../../../community/team/">Team</a></dd>
            </dl>
            <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section" />
            <dl>
                <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt>
                <dd><a href="../../../acknowledgments/">Acknowledgments</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd>
            </dl>
            <p class="remark">
                &copy; 2004-2021 The <a href="https://apache.org">Apache Software Foundation</a>.<br>
                Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of
                The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of
                their respective owners.
            </p>
            <div class="resources">
                <div class="context">
                    <a href="../../../privacy-policy/">Privacy Policy</a>
                </div>
                <div class="context">
                    <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a>
                </div>
                <div class="context">
                    <a href="../../../sitemap/">Sitemap</a>
                </div>
            </div>
            <div class="footer-icons">
                <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#github" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#zulip" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#twitter" /></svg></a>
            </div>
        </div>
    </footer>
<script src="../../../_/js/vendor/algoliasearch-8fe81df376.js"></script>
<script src="../../../_/js/site-0d18f68ee9.js"></script>
<script async src="../../../_/js/vendor/highlight-a988c6fdd9.js"></script>
<script async src="../../../_/js/vendor/svg4everybody-195d47ce7d.js"></script>
        <script type='application/ld+json'>
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
}
</script>
    <script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org/"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Camel K",
        "item": "https://camel.apache.org/camel-k/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "latest",
        "item": "https://camel.apache.org/camel-k/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 4,
        "name": "Languages",
        "item": "https://camel.apache.org/camel-k/latest/languages/languages.html"
        },
        {
        "@type": "ListItem",
        "position": 5,
        "name": "YAML",
        "item": "https://camel.apache.org/camel-k/latest/languages/yaml.html"
        }]
    }
</script>

  </body>
</html>
