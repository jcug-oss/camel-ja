<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kamelets :: Apache Camel</title>
    <link rel="canonical" href="https://camel.apache.org/camel-k/latest/kamelets/kamelets-user.html">
    <meta name="generator" content="Antora 3.0.0-alpha.9">
    <link rel="stylesheet" href="../../../_/css/site-a192e92461.css">
<meta name="application-name" content="Apache Camel">
<meta property="og:title" content="Apache Camel helps you integrate over 300 different systems!">
<meta property="og:site_name" content="Apache Camel">
<meta property="og:url" content="https://camel.apache.org">
<meta property="og:description" content="Camel is an open source integration framework that empowers you to quickly and easily integrate various systems consuming or producing data.">
<meta property="og:type" content="website">
<meta property="og:image" content="https://camel.apache.org/_/img/logo-d.svg">
<link rel="manifest" href="../../../site.webmanifest">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../../apple-touch-icon-60x60.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="../../../favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="../../../favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicon-128.png" sizes="128x128">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="nav-logo" href="../../.."></a>
      <div id="topbar-nav" class="navbar-menu">
        <div class="navbar-end">
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../blog/">
                  <img alt="ブログ" src="/_/img/blog.svg">
                  ブログ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../docs/">
                  <img alt="ドキュメント" src="/_/img/documentation.svg">
                  ドキュメント
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../community/">
                  <img alt="コミュニティ" src="/_/img/community.svg">
                  コミュニティ
                </a>
                <a class="navbar-item-section navbar-item navbar-topics" href="../../../download/">
                  <img alt="ダウンロード" src="/_/img/download.svg">
                  ダウンロード
                </a>
        </div>
      </div>
      <div class="navbar-fill"></div>
      <div class="break-row"></div>
      <div class="navbar-search results-hidden">
        <input id="search" class="search" placeholder="Search" autocomplete="off">
        <img src= "/_/img/cancel.svg" alt="Clear" id="search-cancel">
        <div id="search_results"></div>
      </div>
      <div class="navbar-tools">
        <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#github" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#zulip" /></svg></a>
        <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use xlink:href="../../../_/img/brand-logos.svg#twitter" /></svg></a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<a id="top"></a>
<div class="body">
<div class="nav-container" data-component="camel-k" data-version="1.4.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active">
  <nav class="nav-menu" data-panel="menu">
    <h3 class="title"><a href="../index.html">Camel K</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../installation/installation.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/minikube.html">Minikube</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/minishift.html">Minishift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/digitalocean.html">DigitalOcean Kubernetes Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/gke.html">Google Kubernetes Engine (GKE)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/openshift.html">OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/iks.html">IBM Kubernetes Service (IKS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../installation/registry/registry.html">Configuring Registry</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/digitalocean.html">DigitalOcean</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/dockerhub.html">Docker Hub</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/github.html">Github Packages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/gcr.html">Gcr.io</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../installation/registry/icr.html">IBM Container Registry</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../running/running.html">Running</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../running/dev-mode.html">Dev Mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../running/run-from-github.html">Run from GitHub</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tutorials/tutorials.html">Tutorials</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../cli/cli.html">CLI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/modeline.html">Modeline</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../configuration/configuration.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/maven.html">Maven</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/components.html">Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/configmap-secret.html">ConfigMap/Secret</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Observability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../observability/monitoring.html">Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/operator.html">Operator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../observability/integration.html">Integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Scaling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling/integration.html">Integration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../traits/traits.html">Traits</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/3scale.html">3scale</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/affinity.html">Affinity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/builder.html">Builder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/camel.html">Camel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/container.html">Container</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/cron.html">Cron</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/deployer.html">Deployer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/deployment.html">Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/environment.html">Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/error-handler.html">Error Handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/gc.html">Gc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/ingress.html">Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/istio.html">Istio</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/jolokia.html">Jolokia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/jvm.html">Jvm</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/kamelets.html">Kamelets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/knative-service.html">Knative Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/knative.html">Knative</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/master.html">Master</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/openapi.html">Openapi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/owner.html">Owner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/pdb.html">Pdb</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/platform.html">Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/prometheus.html">Prometheus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/pull-secret.html">Pull Secret</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/quarkus.html">Quarkus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/route.html">Route</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/service-binding.html">Service Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/service.html">Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/toleration.html">Toleration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../traits/tracing.html">Tracing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/operating.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/known-issues.html">Known Issues</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="kamelets.html">Kamelets</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="kamelets-user.html">Kamelets User Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kamelets-dev.html">Kamelets Developer Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../architecture/architecture.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../architecture/operator.html">Operator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration-platform.html">IntegrationPlatform</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration.html">Integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/integration-kit.html">IntegrationKit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/build.html">Build</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/cr/camel-catalog.html">CamelCatalog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/runtime.html">Runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/traits.html">Traits</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture/sources.html">Sources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../uninstalling.html">Uninstalling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle" aria-label="Expand or contract topic"></button>
    <a class="nav-link" href="../contributing/developers.html">Contributing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/local-development.html">Local development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/local-deployment-olm.html">Local OLM deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/e2e.html">Local E2E testing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Camel K</span>
    <span class="version">1.4.x</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">User manual</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../manual/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Components</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../components/latest/index.html">3.12.0 (Prerelease)</a>
        </li>
        <li class="version">
          <a href="../../../components/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../components/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../components/2.x/index.html">2.x</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Camel K</span>
      <ul class="versions">
        <li class="version">
          <a href="../../latest/index.html">latest</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">1.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Kafka Connector</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-kafka-connector/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-kafka-connector/0.7.x/index.html">0.7.x</a>
        </li>
        <li class="version">
          <a href="../../../camel-kafka-connector/0.4.x/index.html">0.4.x</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Kamelet Catalog</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-kamelets/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Karaf</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-karaf/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-karaf/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../camel-karaf/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Quarkus</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-quarkus/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-quarkus/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Camel Spring Boot</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../camel-spring-boot/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../camel-spring-boot/3.11.x/index.html">3.11.x (LTS)</a>
        </li>
        <li class="version">
          <a href="../../../camel-spring-boot/3.7.x/index.html">3.7.x (LTS)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<nav class="toolbar">
<button class="nav-toggle" aria-label="Toggle submenu"></button>
  <a href="../../../manual/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Camel K</a></li>
    <li><a href="kamelets.html">Kamelets</a></li>
    <li><a href="kamelets-user.html">Kamelets User Guide</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.4.x</button>
  <div class="version-menu">
    <a class="version" href="../../latest/kamelets/kamelets-user.html">latest</a>
    <a class="version is-current" href="kamelets-user.html">1.4.x</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/apache/camel-k/edit/release-1.4.x/docs/modules/ROOT/pages/kamelets/kamelets-user.adoc">Edit this Page</a></div>
  </nav>
  <div class="content">
<article class="doc">
<h1 class="page">Kamelets</h1>
<div class="sect1">
<h2 id="kamelets-introduction"><a class="anchor" href="#kamelets-introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kamelets (<strong>Kamel</strong> route snipp<strong>ets</strong>) are a new concept introduced in Camel K that allow users to connect to external systems via a simplified interface,
hiding all the low level details about how those connections are implemented.</p>
</div>
<div class="paragraph">
<p>A Kamelet can act as <strong>"source"</strong> of data or alternatively as <strong>"sink"</strong>: a source allows to consume data from an external system,
while a sink can let you send data to an external system or execute a particular action and get a result.</p>
</div>
<div class="paragraph">
<p>For example, a "twitter-stream" Kamelet may allow a user to consume all tweets containing a specified keyword.
Another Kamelet "twitter-post" may allow the user to publish some data as a tweet.
Those are simple examples: experienced Camel developers know how to map those Kamelets into Camel endpoint URIs directly.
But, in general, a Kamelet is not expected to map 1:1 a Camel component. Kamelets are <strong>route templates</strong>, so they can be much more complex.</p>
</div>
<div class="paragraph">
<p>Being made of <strong>pure Camel DSL</strong>, Kamelets can embody all the logic that allows to consume or produce data from public SaaS or
enterprise systems and only expose to the final users a clean interface that describes <strong>the expected parameters, input and output</strong>: just like an OpenAPI spec.</p>
</div>
<div class="paragraph">
<p>For example, a "store-orders" Kamelet may be used to consume all events related to orders created in a customer enterprise system.
The <strong>Kamelet&#8217;s interface</strong> will define what parameters should be provided (e.g. filters on the type of order) and what&#8217;s the expected datashape of the produced events.
<strong>Internally</strong>, the Kamelet defines how such events will be generated: it may involve connections to multiple systems using different protocols, transformations and so on.
But everything will be <strong>hidden to the end user</strong>.</p>
</div>
<div class="paragraph">
<p>Kamelets are the fundamental <strong>unit of abstraction</strong> in the next-gen architecture of Apache Camel K.
A system as a whole can be technically described as the set of operations that you can do with it:
if you use the language of Kamelets to describe a specific system, then other users can have access to all those operations with ease,
no matter how complicated is the internal logic underlying all those operations.
Comparing it to the classical way of using Apache Camel, where developers used to write complex routes (containing both high-level and low-level details)
to integrate systems, the Kamelet model tends to reduce the complexity by encapsulating low-level details into reusable components.</p>
</div>
<div class="paragraph">
<p>Kamelets are also expected to be <strong>rendered on visual tools</strong> that will provide additional value to the end users.
They are generic connectors that can be used in multiples ways, depending on the context, so each UIs can use them
for its own purpose.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kamelets-example"><a class="anchor" href="#kamelets-example"></a>Kamelet Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Speaking technically, a Kamelet is a resource that can be installed on any Kubernetes cluster.
The following is an example of Kamelet that we&#8217;ll use to discuss the various parts:</p>
</div>
<div class="listingblock">
<div class="title">telegram-text-source.kamelet.yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: camel.apache.org/v1alpha1
kind: Kamelet
metadata:
  name: telegram-text-source <i class="conum" data-value="1"></i><b>(1)</b>
  annotations: <i class="conum" data-value="2"></i><b>(2)</b>
    camel.apache.org/kamelet.icon: "data:image/svg+xml;base64,PD94bW..."
  labels: <i class="conum" data-value="3"></i><b>(3)</b>
    camel.apache.org/kamelet.type: "source"
spec:
  definition: <i class="conum" data-value="4"></i><b>(4)</b>
    title: "Telegram Text Source"
    description: |-
      Receive all text messages that people send to your telegram bot.

      # Instructions
      Description can include Markdown and guide the final user to configure the Kamelet parameters.
    required:
      - botToken
    properties:
      botToken:
        title: Token
        description: The token to access your bot on Telegram
        type: string
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:password

  types: <i class="conum" data-value="5"></i><b>(5)</b>
    out:
      mediaType: text/plain
      # schema:
  flow: <i class="conum" data-value="6"></i><b>(6)</b>
    from:
      uri: telegram:bots
      parameters:
        authorizationToken: "#property:botToken"
      steps:
        - convert-body-to:
            type: "java.lang.String"
            type-class: "java.lang.String"
            charset: "UTF8"
        - filter:
            simple: "${body} != null"
        - log: "${body}"
        - to: "kamelet:sink"</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The Kamelet ID, to be used in integrations that want to leverage the Kamelet</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Annotations such as icon provide additional display features to the Kamelet</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Labels allow users to query Kamelets e.g. by kind ("source" vs. "sink")</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Description of the Kamelets and parameters in JSON-schema specification format</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The media type of the output (can include a schema)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The route template defining the behavior of the Kamelet</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>At a high level (more details are provided later), a Kamelet resource describes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A metadata section containing the ID (<code>metadata</code> &#8594; <code>name</code>) of the Kamelet and other information, such as the type of Kamelet (<code>source</code> or <code>sink</code>)</p>
</li>
<li>
<p>A JSON-schema specification (<code>definition</code>) containing a set of parameters that you can use to configure the Kamelet</p>
</li>
<li>
<p>An optional section containing information about input and output expected by the Kamelet (<code>types</code>)</p>
</li>
<li>
<p>A Camel flow in YAML DSL containing the implementation of the Kamelet (<code>flow</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once <strong>installed on a Kubernetes namespace</strong>, the Kamelet can be <strong>used by any integration in that namespace</strong>.</p>
</div>
<div class="paragraph">
<p>Kamelets can be installed on a Kubernetes namespace with a simple command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">kubectl apply -f yourkamelet.kamelet.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kamelets are standard YAML files, but their common extension is <code>.kamelet.yaml</code> to help IDEs to recognize them and provide auto-completion (in the future).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kamelets-usage-integration"><a class="anchor" href="#kamelets-usage-integration"></a>Using Kamelets in Integrations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kamelets can be used in integrations <strong>as if they were standard Camel components</strong>. For example,
suppose that you&#8217;ve created the <code>telegram-text-source</code> Kamelet in the <code>default</code> namespace on Kubernetes,
then you can write the following integration to use the Kamelet:</p>
</div>
<div class="listingblock">
<div class="title">example.groovy</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from('kamelet:telegram-text-source?botToken=XXXXYYYY')
  .to('log:INFO')</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
URI properties ("botToken") match the corresponding parameters in the Kamelet definition
</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>Kamelets can also be used multiple times in the same route definition. This happens usually with sink Kamelets.</p>
</div>
<div class="paragraph">
<p>Suppose that you&#8217;ve defined a Kamelet named "my-company-log-sink" in your Kubernetes namespace, then you can write a route like this:</p>
</div>
<div class="listingblock">
<div class="title">example.groovy</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from('kamelet:telegram-text-source?botToken=XXXXYYYY')
  .to("kamelet:my-company-log-sink?bucket=general")
  .filter().simple('${body} contains "Camel"')
    .to("kamelet:my-company-log-sink?bucket=special")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The "my-company-log-sink" will obviously define what it means to write a log in the enterprise system and what is concretely a "bucket".</p>
</div>
<div class="sect2">
<h3 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h3>
<div class="paragraph">
<p>When using a Kamelet, the instance parameters (e.g. "botToken", "bucket") can be passed explicitly in the URI or you can use properties. Properties can be also
loaded implicitly by the operator from Kubernetes secrets (see below).</p>
</div>
<div class="sect3">
<h4 id="_1_uri_based_configuration"><a class="anchor" href="#_1_uri_based_configuration"></a>1. URI based configuration</h4>
<div class="paragraph">
<p>You can configure the Kamelet by passing directly the configuration parameters in the URI, as in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from("kamelet:telegram-text-source?botToken=the-token-value")
// ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, "the-token-value" is passed explicitly in the URI (you can also pass a custom property placeholder as value).</p>
</div>
</div>
<div class="sect3">
<h4 id="_2_property_based_configuration"><a class="anchor" href="#_2_property_based_configuration"></a>2. Property based configuration</h4>
<div class="paragraph">
<p>An alternative way to configure the Kamelet is to provide configuration parameters as properties of the integration.</p>
</div>
<div class="paragraph">
<p>Taking for example a different version of the integration above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from('kamelet:telegram-text-source')
  .to("kamelet:my-company-log-sink")
  .filter().simple('${body} contains "Camel"')
    .to("kamelet:my-company-log-sink/mynamedconfig")</code></pre>
</div>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The integration above does not contain URI query parameters and the last URI ("kamelet:my-company-log-sink/mynamedconfig") contains a path parameter with value "mynamedconfig"
</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>The integration above needs some configuration in order to run properly. The configuration can be provided in a property file:</p>
</div>
<div class="listingblock">
<div class="title">example.properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Configuration for the Telegram source Kamelet
camel.kamelet.telegram-text-source.botToken=the-token-value

# General configuration for the Company Log Kamelet
camel.kamelet.my-company-log-sink.bucket=general
# camel.kamelet.my-company-log-sink.xxx=yyy

# Specific configuration for the Company Log Kamelet corresponding to the named configuration "mynamedconfig"
camel.kamelet.my-company-log-sink.mynamedconfig.bucket=special
# When using "kamelet:my-company-log-sink/mynamedconfig", the bucket will be "special", not "general"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the integration can be run with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">kamel run example.groovy --property-file example.properties</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_implicit_configuration_using_secrets"><a class="anchor" href="#_3_implicit_configuration_using_secrets"></a>3. Implicit configuration using secrets</h4>
<div class="paragraph">
<p>Property based configuration can also be used implicitly by creating secrets in the namespace that will be used to
determine the Kamelets configuration.</p>
</div>
<div class="paragraph">
<p>To use implicit configuration via secret, we first need to create a configuration file holding only the properties of a named configuration.</p>
</div>
<div class="listingblock">
<div class="title">mynamedconfig.properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Only configuration related to the "mynamedconfig" named config
camel.kamelet.my-company-log-sink.mynamedconfig.bucket=special
# camel.kamelet.my-company-log-sink.mynamedconfig.xxx=yyy</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can create a secret from the file and label it so that it will be picked up automatically by the operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"># Create the secret from the property file
kubectl create secret generic my-company-log-sink.mynamedconfig --from-file=mynamedconfig.properties
# Bind it to the named configuration "mynamedconfig" of the "my-company-log-sink" Kamelet
kubectl label secret my-company-log-sink.mynamedconfig camel.apache.org/kamelet=my-company-log-sink camel.apache.org/kamelet.configuration=mynamedconfig</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now write an integration that uses the Kamelet with the named configuration:</p>
</div>
<div class="listingblock">
<div class="title">example.groovy</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from('timer:tick')
  .setBody().constant('Hello')
  .to('kamelet:my-company-log-sink/mynamedconfig')</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can run this integration without specifying other parameters, the Kamelet endpoint will be implicitly configured by the Camel K operator that will
automatically mount the secret into the integration Pod.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kamelets-usage-binding"><a class="anchor" href="#kamelets-usage-binding"></a>Binding Kamelets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some contexts (for example <strong>"serverless"</strong>) users often want to leverage the power of Apache Camel to be able to connect to various sources/sinks, without
doing additional processing (such as tranformations or other enterprise integration patterns).</p>
</div>
<div class="paragraph">
<p>A common use case is that of <strong>Knative Sources</strong>, for which the Apache Camel developers maintain the <a href="https://knative.dev/docs/eventing/samples/apache-camel-source/">Knative CamelSources</a>.
Kamelets represent an <strong>evolution</strong> of the model proposed in CamelSources, but they allow using the same declarative style of binding, via a resource named <strong>KameletBinding</strong>.</p>
</div>
<div class="sect2">
<h3 id="_binding_to_a_knative_destination"><a class="anchor" href="#_binding_to_a_knative_destination"></a>Binding to a Knative Destination</h3>
<div class="paragraph">
<p>A KameletBinding allows to declaratively move data from a system described by a Kamelet towards a Knative destination (or other kind of destinations, in the future), or from
a Knative channel/broker to another external system described by a Kamelet.</p>
</div>
<div class="paragraph">
<p>For example, here&#8217;s an example of binding:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: camel.apache.org/v1alpha1
kind: KameletBinding
metadata:
  name: telegram-text-source-to-channel
spec:
  source: <i class="conum" data-value="1"></i><b>(1)</b>
    ref:
      kind: Kamelet
      apiVersion: camel.apache.org/v1alpha1
      name: telegram-text-source
    properties:
      botToken: the-token-here
  sink: <i class="conum" data-value="2"></i><b>(2)</b>
    ref:
      kind: InMemoryChannel
      apiVersion: messaging.knative.dev/v1
      name: messages</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Reference to the source that provides data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Reference to the sink where data should be sent to</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>This binding takes the <code>telegram-text-source</code> Kamelet, configures it using specific properties ("botToken") and
makes sure that messages produced by the Kamelet are forwarded to the Knative <strong>InMemoryChannel</strong> named "messages".</p>
</div>
<div class="paragraph">
<p>Note that source and sink are specified declaratively as standard <strong>Kubernetes object references</strong>.</p>
</div>
<div class="paragraph">
<p>The example shows how we can reference the "telegram-text-source" resource in a KameletBinding. It&#8217;s contained in the <code>source</code> section
because it&#8217;s a Kamelet of type "source".
A Kamelet of type "sink", by contrast, can only be used in the <code>sink</code> section of a <code>KameletBinding</code>.</p>
</div>
<div class="paragraph">
<p><strong>Under the covers, a KameletBinding creates an Integration</strong> resource that implements the binding, but this is transparent to the end user.</p>
</div>
</div>
<div class="sect2">
<h3 id="_binding_to_a_kafka_topic"><a class="anchor" href="#_binding_to_a_kafka_topic"></a>Binding to a Kafka Topic</h3>
<div class="paragraph">
<p>The example seen in the previous paragraph can be also configured to push data a <a href="https://strimzi.io/">Strimzi</a> Kafka topic (Kamelets can be also configured to pull data from topics).</p>
</div>
<div class="paragraph">
<p>To do so, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install Strimzi on your cluster</p>
</li>
<li>
<p>Create a Strimzi <strong>Kafka</strong> cluster using plain listener and <strong>no authentication</strong></p>
</li>
<li>
<p>Create a Strimzi <strong>KafkaTopic</strong> named <code>my-topic</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to the <a href="https://strimzi.io/">Strimzi documentation</a> for instructions on how to do that.</p>
</div>
<div class="paragraph">
<p>The following binding can be created to push data into the <code>my-topic</code> topic:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: camel.apache.org/v1alpha1
kind: KameletBinding
metadata:
  name: telegram-text-source-to-kafka
spec:
  source:
    ref:
      kind: Kamelet
      apiVersion: camel.apache.org/v1alpha1
      name: telegram-text-source
    properties:
      botToken: the-token-here
  sink:
    ref: <i class="conum" data-value="1"></i><b>(1)</b>
      kind: KafkaTopic
      apiVersion: kafka.strimzi.io/v1beta1
      name: my-topic</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Kubernetes reference to a Strimzi KafkaTopic</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>After creating it, messages will flow from Telegram to Kafka.</p>
</div>
</div>
<div class="sect2">
<h3 id="_binding_to_an_explicit_uri"><a class="anchor" href="#_binding_to_an_explicit_uri"></a>Binding to an explicit URI</h3>
<div class="paragraph">
<p>An alternative way to use a KameletBinding is to configure the source/sink to be an explicit Camel URI.
For example, the following binding is allowed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: camel.apache.org/v1alpha1
kind: KameletBinding
metadata:
  name: telegram-text-source-to-channel
spec:
  source:
    ref:
      kind: Kamelet
      apiVersion: camel.apache.org/v1alpha1
      name: telegram-text-source
    properties:
      botToken: the-token-here
  sink:
    uri: https://mycompany.com/the-service <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>KameletBinding with explicitly URI</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>This KameletBinding explicitly defines an URI where data is going to be pushed.</p>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the <code>uri</code> option is also conventionally used in Knative to specify a non-kubernetes destination.
To comply with the Knative specifications, in case an "http" or "https" URI is used, Camel will send <a href="https://cloudevents.io/">CloudEvents</a> to the destination.
</td>
</tr>
</table></div>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling"><a class="anchor" href="#_error_handling"></a>Error Handling</h3>
<div class="paragraph">
<p>You can configure an error handler in order to specify what to do when some event ends up with failure. See <a href="kameletbindings-error-handler.html" class="page">Kamelet Bindings Error Handler User Guide</a> for more detail.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kamelets-specification"><a class="anchor" href="#kamelets-specification"></a>Kamelet Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;re now going to describe the various parts of the Kamelet in more details.</p>
</div>
<div class="sect2">
<h3 id="kamelets-specification-metadata"><a class="anchor" href="#kamelets-specification-metadata"></a>Metadata</h3>
<div class="paragraph">
<p>The metadata section contains important information related to the Kamelet as Kubernetes resource.</p>
</div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Metadata Fields</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the Kamelet, used to refer to the Kamelet in external routes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>telegram-text-source</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Kubernetes namespace where the resource is installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table></div>
<div class="paragraph">
<p>The following annotations and labels are also defined on the resource:</p>
</div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Annotations</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.apache.org/kamelet.icon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional icon for the Kamelet in URI data format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>data:image/svg+xml;base64,PD94bW&#8230;&#8203;</code></p></td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Labels</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label: <code>camel.apache.org/kamelet.type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if the Kamelet can be used as source or sink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum: <code>source</code>, <code>sink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>source</code></p></td>
</tr>
</tbody>
</table></div>
</div>
<div class="sect2">
<h3 id="kamelets-specification-definition"><a class="anchor" href="#kamelets-specification-definition"></a>Definition</h3>
<div class="paragraph">
<p>The definition part of a Kamelet contains a valid JSON-schema document describing general information about the
Kamelet and all defined parameters.</p>
</div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Definition Fields</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display name of the Kamelet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>Telegram Text Source</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A markdown description of the Kamelet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>Receive all text messages that people send to your telegram bot&#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of required parameters (complies with JSON-schema spec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">array: <code>string</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>properties</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map of properties that can be configured on the Kamelet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">map: <code>string</code> &#8594; <code>schema</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table></div>
<div class="paragraph">
<p>Each property defined in the Kamelet has its own schema (normally a flat schema, containing only 1 level of properties).
The following table lists some common fields allowed for each property.</p>
</div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Definition Parameters</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display name of the property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>Token</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple text description of the property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>The token to access your bot on Telegram</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON-schema type of the property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>string</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x-descriptors</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific aids for the visual tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">array: <code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>- urn:alm:descriptor:com.tectonic.ui:password</code> displays the property as a password field in a tectonic-type form</p></td>
</tr>
</tbody>
</table></div>
</div>
<div class="sect2">
<h3 id="_data_shapes"><a class="anchor" href="#_data_shapes"></a>Data shapes</h3>
<div class="paragraph">
<p>Kamelets are designed to be plugged as sources or sinks in more general routes, so they can accept data as input and/or
produce their own data. To help visual tools and applications to understand how to interact with the Kamelet, the
specification of a Kamelet includes also information about type of data that it manages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># ...
spec:
  # ...
  types:
    out: <i class="conum" data-value="1"></i><b>(1)</b>
      mediaType: application/json
      schema: <i class="conum" data-value="2"></i><b>(2)</b>
        properties:
          # ...</code></pre>
</div>
</div>
<div class="colist arabic">
<div class="table-wrapper"><table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Defines the type of the <code>output</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>JSON-schema definition of the output</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>Data shape can be indicated for the following channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in</code>: the input of the Kamelet, in case the Kamelet is of type <code>sink</code></p>
</li>
<li>
<p><code>out</code>: the output of the Kamelet, for both <code>source</code> and <code>sink</code> Kamelets</p>
</li>
<li>
<p><code>error</code>: an optional error data shape, for both <code>source</code> and <code>sink</code> Kamelets</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Data shapes contain the following information:</p>
</div>
<div class="table-wrapper"><table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Data Shape Options</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mediaType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The media type of the data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E.g. <code>application/json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional JSON-schema definition for the data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table></div>
</div>
<div class="sect2">
<h3 id="_flow"><a class="anchor" href="#_flow"></a>Flow</h3>
<div class="paragraph">
<p>Each Kamelet contains a YAML-based Camel DSL that provides the actual implementation of the connector.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spec:
  # ...
  flow:
    from:
      uri: telegram:bots
      parameters:
        authorizationToken: "#property:botToken"
      steps:
        - convert-body-to:
            type: "java.lang.String"
            type-class: "java.lang.String"
            charset: "UTF8"
        - filter:
            simple: "${body} != null"
        - log: "${body}"
        - to: "kamelet:sink"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source and sink flows will connect to the outside route via the <code>kamelet:source</code> or <code>kamelet:sink</code> special endpoints:
- A source Kamelet must contain a call <strong>to</strong> <code>kamelet:sink</code>
- A sink Kamelet must start <strong>from</strong> <code>kamelet:source</code></p>
</div>
<div class="admonitionblock note">
<div class="table-wrapper"><table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>kamelet:source</code> and <code>kamelet:sink</code> endpoints are special endpoints that are only available in Kamelet route templates and will be replaced with actual references at runtime.
</td>
</tr>
</table></div>
</div>
<div class="paragraph">
<p>Kamelets contain a <strong>single route template</strong> written in YAML DSL, as in the previous example.</p>
</div>
<div class="paragraph">
<p>Kamelets, however, can also contain additional sources in the <code>spec</code> &#8594; <code>sources</code> field. Those sources can be of any kind
(not necessarily route templates) and will be added once to all the integrations where the Kamelet is used.
They main role is to do advanced configuration of the integration context where the Kamelet is used, such as registering
beans in the registry or adding customizers.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
    <div class="footer-tools">
        <a href="#top" title="Reach the top of the page">Back to top</a>
    </div>
    <footer>
        <div class="footer">
            <figure class="logo">
                <img src="../../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo"
                    aria-label="white silhouette of a camel in front of a sand dune">
            </figure>
            <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section" />
            <dl>
                <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt>
                <dd><a href="../../../blog/">Blog</a></dd>
                <dd><a href="../../../docs/">Documentation</a></dd>
                <dd><a href="../../../community/support/">Community</a></dd>
                <dd><a href="../../../download/">Download</a></dd>
            </dl>
            <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section" />
            <dl>
                <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt>
                <dd><a href="../../../manual/latest/">User Manual</a></dd>
                <dd><a href="../../../components/latest/index.html">Components</a></dd>
                <dd><a href="../../../camel-k/latest/">Camel-K</a></dd>
                <dd><a href="../../../camel-kafka-connector/latest/">Camel Kafka Connector</a></dd>
                <dd><a href="../../../camel-quarkus/latest/">Camel Quarkus</a></dd>
                <dd><a href="../../../camel-spring-boot/latest/">Camel Spring Boot</a></dd>
                <dd><a href="../../../camel-karaf/latest/">Camel Karaf</a></dd>
                <dd><a href="../../../manual/latest/faq/index.html">FAQ</a></dd>
            </dl>
            <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section" />
            <dl>
                <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt>
                <dd><a href="../../../community/support/">Support</a></dd>
                <dd><a href="../../../community/contributing/">Contributing</a></dd>
                <dd><a href="../../../community/mailing-list/">Mailing Lists</a></dd>
                <dd><a href="../../../community/user-stories/">User stories</a></dd>
                <dd><a href="../../../community/articles/">Articles</a></dd>
                <dd><a href="../../../community/books/">Books</a></dd>
                <dd><a href="../../../community/team/">Team</a></dd>
            </dl>
            <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section" />
            <dl>
                <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt>
                <dd><a href="../../../acknowledgments/">Acknowledgments</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd>
                <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd>
            </dl>
            <p class="remark">
                &copy; 2004-2021 The <a href="https://apache.org">Apache Software Foundation</a>.<br>
                Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of
                The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of
                their respective owners.
            </p>
            <div class="resources">
                <div class="context">
                    <a href="../../../privacy-policy/">Privacy Policy</a>
                </div>
                <div class="context">
                    <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a>
                </div>
                <div class="context">
                    <a href="../../../sitemap/">Sitemap</a>
                </div>
            </div>
            <div class="footer-icons">
                <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#github" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#zulip" /></svg></a>
                <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use xlink:href="../../../_/img/brand-logos.svg#twitter" /></svg></a>
            </div>
        </div>
    </footer>
<script src="../../../_/js/vendor/algoliasearch-8fe81df376.js"></script>
<script src="../../../_/js/site-0d18f68ee9.js"></script>
<script async src="../../../_/js/vendor/highlight-a988c6fdd9.js"></script>
<script async src="../../../_/js/vendor/svg4everybody-195d47ce7d.js"></script>
        <script type='application/ld+json'>
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
}
</script>
    <script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org/"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Camel K",
        "item": "https://camel.apache.org/camel-k/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "1.4.x",
        "item": "https://camel.apache.org/camel-k/1.4.x/index.html"
        },
        {
        "@type": "ListItem",
        "position": 4,
        "name": "Kamelets",
        "item": "https://camel.apache.org/camel-k/1.4.x/kamelets/kamelets.html"
        },
        {
        "@type": "ListItem",
        "position": 5,
        "name": "Kamelets User Guide",
        "item": "https://camel.apache.org/camel-k/1.4.x/kamelets/kamelets-user.html"
        }]
    }
</script>

  </body>
</html>
